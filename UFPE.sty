%\NeedsTexFormat{LaTeX2e}
\ProvidesPackage{UFPE}

% Required Packages
\RequirePackage[a4paper, top=2cm, bottom=2cm, left=2cm, right=2cm]{geometry}
\RequirePackage{multirow}
\RequirePackage{makecell}
\RequirePackage{array}
\RequirePackage{mathptmx}
\RequirePackage{graphicx}
\RequirePackage{tabularx}
\RequirePackage{setspace}
\RequirePackage[pagestyles, largestsep]{titlesec}
\RequirePackage[utf8]{inputenc}
\RequirePackage[portuguese]{babel}
\RequirePackage{indentfirst}
\RequirePackage{enumitem}
\RequirePackage[labelsep=endash, font={small,bf}, skip=12pt]{caption}

%%configurações para o listings
\RequirePackage{listings}
\RequirePackage{xcolor}

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=2,
      title=\lstname,
literate      =        % Support additional characters
      {á}{{\'a}}1  {é}{{\'e}}1  {í}{{\'i}}1 {ó}{{\'o}}1  {ú}{{\'u}}1
      {Á}{{\'A}}1  {É}{{\'E}}1  {Í}{{\'I}}1 {Ó}{{\'O}}1  {Ú}{{\'U}}1
      {à}{{\`a}}1  {è}{{\`e}}1  {ì}{{\`i}}1 {ò}{{\`o}}1  {ù}{{\`u}}1
      {À}{{\`A}}1  {È}{{\'E}}1  {Ì}{{\`I}}1 {Ò}{{\`O}}1  {Ù}{{\`U}}1
      {ä}{{\"a}}1  {ë}{{\"e}}1  {ï}{{\"i}}1 {ö}{{\"o}}1  {ü}{{\"u}}1
      {Ä}{{\"A}}1  {Ë}{{\"E}}1  {Ï}{{\"I}}1 {Ö}{{\"O}}1  {Ü}{{\"U}}1
      {â}{{\^a}}1  {ê}{{\^e}}1  {î}{{\^i}}1 {ô}{{\^o}}1  {û}{{\^u}}1
      {Â}{{\^A}}1  {Ê}{{\^E}}1  {Î}{{\^I}}1 {Ô}{{\^O}}1  {Û}{{\^U}}1
      {œ}{{\oe}}1  {Œ}{{\OE}}1  {æ}{{\ae}}1 {Æ}{{\AE}}1  {ß}{{\ss}}1
      {ç}{{\c c}}1 {Ç}{{\c C}}1 {ø}{{\o}}1  {å}{{\r a}}1 {Å}{{\r A}}1
      {ã}{{\~a}}1  {õ}{{\~o}}1  {Ã}{{\~A}}1 {Õ}{{\~O}}1
      {ñ}{{\~n}}1  {Ñ}{{\~N}}1  {¿}{{?`}}1  {¡}{{!`}}1{°}{{\textdegree}}1 {º}{{\textordmasculine}}1 {ª}{{\textordfeminine}}1
      % ¿ and ¡ are not correctly displayed if inconsolata font is used
      % together with the lstlisting environment. Consider typing code in
      % external files and using \lstinputlisting to display them instead.
}
\lstset{
  style=mystyle
      }
%% Fim das configurações para o lstlisting
%%
% Options

% More declarations
\setlist[enumerate]{label=\arabic*)}% Make enumerate default to 1)
\pagenumbering{gobble}% Suppress page numbering
 \setcounter{secnumdepth}{5}% Display enum up to \subparagraph (level 4)
 \renewcommand*{\theparagraph}{\alph{paragraph}}
\renewcommand{\thesubparagraph}{\textbullet}

% Format titles on sections, subsection and paragraph
\titleformat{\section}
  {\normalfont\fontsize{14}{4}\selectfont\bfseries}{\thesection )}{10pt}{}
 \titlespacing*{\section}
   {0.13cm}{10pt}{0pt}
\setlength{\parindent}{0.64cm}

\titleformat{\subsection}
{\normalfont\fontsize{13}{4}\selectfont\bfseries}{\thesubsection )}{15pt}{}
  \titlespacing*{\subsection}
    {0.63cm}{10pt}{0pt}

\titleformat{\paragraph}[hang]
{\normalfont\fontsize{13}{4}\selectfont\bfseries}{}{0pt}{\theparagraph .\hspace{10pt}}
  \titlespacing*{\paragraph}
  {1.90cm}{10pt}{0pt}

\setstretch{1.5} % Multiplies linestretch by 1.5
 \leftskip=0.74cm % Skip all normal text from left margin

 % Define new class variables. They are used in document title
\makeatletter
\def\subject#1{\def\@subject{#1}}
\def\chap#1{\def\@chap{#1}}
\def\stand#1{\def\@stand{#1}}
\def\class#1{\def\@class{#1}}
\makeatother

\renewcommand\theadset{\def\arraystretch{.85}}
\makeatletter
\renewcommand\maketitle{{
\begin{table}[h!]
\begin{tabularx}\hsize{|l|l|X|l|}
  \hline
  \multirowcell{6}{
			\includegraphics[width=2cm]{logo-ufpe.png}
  }
  & \multicolumn{3}{c|}{
    \thead{\textbf{\fontsize{22}{40}\selectfont Universidade Federal de Pernambuco}}} \\
  & \multicolumn{3}{c|}{\thead{\textbf{\fontsize{16}{5}\selectfont Departamento de Engenharia Elétrica} \\ \textbf{\fontsize{16}{5}\selectfont \@subject}}} \\ \cline{2-4}

  & \multicolumn{3}{l|}{\thead{\textbf{Relatório de Práticas do Capítulo \@chap \, - \@title }}} \\ \cline{2-4}

  & Aluno: & \@author & Turma: \@class \\ \cline{2-4}
  & Bancada: & \@stand & Data: \@date \\
  \hline
 \end{tabularx}

\end{table}
}} % fim do maketitle
\makeatother
